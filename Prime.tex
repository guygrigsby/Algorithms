\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amssymb,amsmath,amsthm, mathtools}
\pagenumbering{Roman}

\newtheorem{ex}{Exercise}
\newenvironment{ex*}
  {\renewcommand\theex{\thechapter.\arabic{ex}\rlap{$^*$}}\ex}
  {\endex}

\newtheorem{definition}{Definition}

\title{\textbf{AKS Primality Test}}
\author{Guy J Grigsby}


\begin{document}
\maketitle
\vspace{5pc}
\section{Background}
\subsection{Fermat's Little Theorum}
The Agrawal-Kayal-Saxena primality test is a polynomial time algorithm that tests to see if a given number $n$ is prime. It's based on, what mathematicians call, elementary number theory so I will do my best to fumble through it. The first and possibly most of important part of this is Fermat's Little Theorum. This theorum tells us that if $p$ is a prime number, then for any integer $a$, $p\ |\ (a^p - a)$. Put another way:
	
\newtheorem{thm}{Theorum}\label{fermat}
\begin{thm}[Fermat's Little Theorum]
If $p$ is prime:
\begin{equation}
a^p \equiv a \mod p
\end{equation}
\end{thm}
This is all very interesting, but alone, this doesn't help us. There \emph{is} a primality test that uses this directly called Fermat's Primality Test, but it's not polinomial time and thus uninteresting. To make this usable we must extend Fermat's Little Theorum to polynomials instead of only constant values.

\newtheorem{lemma}{Lemma}\label{congruencyLemma}
\begin{lemma}
If $n$ is prime then for all integers $m$:
\begin{equation}
(x-m)^n \equiv (x^n -m) \mod n
\end{equation}
\end{lemma}

I am not going to prove these here so you'll have to take my word for it, or look it up in the text. \footnote{"Foundations of Algorithms" by Neopolitan and Naimipour (page 460) can be found in Jerry's office. Most of the examples contained herein are also stolen from this book.} A corrolary to this lemma is the claim that if $m$ and $n$ are relatively prime then $n$ is prime \emph{if and only if}

$$(x-m)^n \equiv (x^n -m) \mod n$$

Now this may look like I just wrote the same thing again to fill space. That is not completely true. I did write it again and it did take up more space, but it was for another reason. Because now I am claiming that if $m$ and $n$ are relatively prime, then $n$ is prime \emph{if and only if} the expression above is true. This is the basis of the AKS primality test. It should be noted that this relation by itself can be used to prove primality, but it does so in exponential time. Agrawal et al figured out a trick to reduce that, which we'll get to shortly because we're not quite ready to try it out. Before we can look at an example, we must first define the congruency operator $\equiv$ and explain how the $mod$ operator works on polynomials. We are used to working with $mod$ on integers and it behaves much the same way, but some clarification is needed. 

\subsection{Congruence and Equivalence Classes}
\begin{definition}
Let f(x) and g(x) be polynomials that have integer coefficients. If the coefficients of each magnitude of x are congruent mod n, then it can be said that f(x) and g(x) are congruent mod n. This can also be expressed as follows:

$$f(x) \equiv g(x) \mod n$$
 
\end{definition}
In the above relationship, $f(x)$ and $g(x)$ are in the same equivalence class. The congruence relation operator $\equiv$ is used to tell us if two things are in the same equivalence class. It is used in place of the more familiar style for integers $ 9\ mod\ 2 = 1 $. Let's look at a basic example of polynomial congruence.

$$(6x^2+9x+1) \equiv (2x^2+x-3) \mod 4$$ 
We can see why this is true in the following table. The table lists the coefficient congrence expressions on the left and the standard equality we are used to on the right. 

\begin{center}
    \begin{tabular}{ | l | l |}
    \hline
	Congruence & Equality \\ \hline
	$ 6 \equiv 2 \mod 4 $ & $6\ mod\ 4=2$\\ \hline
	$ 9 \equiv 1 \mod 4 $ & $9\ mod\ 4=1$\\ \hline
	$ 1 \equiv -3 \mod 4 $ & $1\ mod\ 4\not=-3\Leftarrow$ what is this!?\\ \hline
    \end{tabular}
\end{center}

As you can see the comparison breaks down when used on negative numbers. Let's loot at this another way. When we say $6 \equiv 2 \mod 4$, we are saying that 6 and 2 are in the same equvalence class, $mod\ 4$. The same goes for $1 \equiv-3 \mod 4$, but it may not be intuitive. Clearly the \emph{positive} integers in the equivalence class for $1\ mod\ 4$ are $\{1,5,9,13,17,...\}$. In general an equivalence class of $a\ mod\ n$ is $\{...,a-2n,a-n,a,a+n,a+2n,a+3n,...\}$ or $\{a+kn\}\ \forall\ k\ \in\ \mathbb{Z}$. Now we're getting somewhere. So if we $let\ k = -1,\ a = 1\ and\ n = 4$ we can clearly see that $1 \equiv -3\ mod\ 4$ because $1+(-1)4=-3$. Thus we can see the complete equivalence class of $1\ mod\ 4$ is $\{...,-15,-11,-7,-3,1,5,9,13,17,...\}$. Let's do an example together:

\begin{ex}
Given: 9 and 2 are relatively prime.

Show 2 is prime using the congruence relation $(x-9)^2 \equiv (x^2-9) \mod 2 $
\end{ex}
\vspace{10pc}
\subsection{Using $mod$ with Polynomials}
Our everyday definition of $mod$ is the remainder after an integer division. If we look at it like that, then, in theory, using $mod$ with polynomials should be trivial. The only difference is that dividing polynomials is not as easy as dividing integers. In fact, I think we all remember that it's terrible. In an effort not to bring up painful memories, I'll just put completed examples. Say that we want to compute $ (12x^3+23x^2+7x+9)\ mod\ (4x^2+x) $\footnote{Example from "Foundations of Algorithms" by Neopolitan and Naimipour (page 462)}. We just divide $ (12x^3+23x^2+7x+9)$ into $(4x^2+x)$ and get the remainder:
$$
\frac{12x^3+23x^2+7x+9}{4x^2+x}=3x+5+\frac{2x+9}{4x^2+x}
$$
so we see that
$$
(12x^3+23x^2+7x+9)\ mod\ (4x^2+x)=2x+9
$$
Easy. Now we take it one step further and combine $f(x) \equiv g(x)\ mod\ n$ with our recently learned polynomial $mod$ing. So we get:
\begin{definition}
Let $f(x)$, $g(x)$ and $h(x)$ be polynomials that have integer coefficients. If $$[f(x)\ mod\ h(x)] \equiv [(g(x)\ mod\ h(x)] \mod n$$ it is expressed as $$ f(x) \equiv g(x) \mod [h(x),n]$$
\end{definition}
This is a lot arbitrary ceremony for a simple concept. An extemely important simple concept.
$$
Let f(x) = 
$$

\end{document}